<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GTA RP Karte</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    html, body, #map { height: 100%; margin: 0; }
    .popup-title { font-weight: 700; margin-bottom: 4px; }
    .popup-meta { opacity: 0.85; font-size: 13px; }
  </style>
</head>
<body>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // Pixel-/Bild-Karte (kein echtes GPS)
  const map = L.map('map', { crs: L.CRS.Simple, minZoom: -2, maxZoom: 4 });

  // WICHTIG: Trage hier die Pixelgröße deiner map.png ein
  const IMG_W = 4096;
  const IMG_H = 4096;

  const bounds = [[0, 0], [IMG_H, IMG_W]]; // [y,x]
  L.imageOverlay('map.png', bounds).addTo(map);
  map.fitBounds(bounds);

  // POI-Layer
  const poiLayer = L.layerGroup().addTo(map);

  // Beispiel-POIs (später aus pois.json)
  const pois = [
    { name: "Pillbox Hospital", desc: "EMS", x: 2000, y: 2100 },
    { name: "Mission Row PD", desc: "Police", x: 2300, y: 1800 }
  ];

  for (const p of pois) {
    L.marker([p.y, p.x]).bindPopup(
      `<div class="popup-title">${p.name}</div><div class="popup-meta">${p.desc}</div>`
    ).addTo(poiLayer);
  }

  // Layer Switch
  L.control.layers({}, { "POIs": poiLayer }, { collapsed: false }).addTo(map);
</script>
</body>
</html>
